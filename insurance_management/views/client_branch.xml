<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="client_branch_view_tree" model="ir.ui.view">
        <field name="name">client.branch.tree</field>
        <field name="model">client.branch</field>
        <field name="arch" type="xml">
            <tree string="Client Branch">
                <field name="document_no"/>
                <field name="customer_id"/>
                <field name="insurance_type_id"/>
                <field name="insurance_sub_type_id"/>
                <field name="sales_employee"/>
                <field name="supervisor"/>
                <field name="activity_ids" string="Next Activity" widget="list_activity" optional="show"/>
                <field name="country" invisible="1"/>
                <field name="state_id"/>
                <field name="client_ids"/>
                <field name="state" string="Status"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_client_branch_search_mmmm">
        <field name="name">client.branch.search</field>
        <field name="model">client.branch</field>
        <field name="arch" type="xml">
            <search>
                <field name="customer_id"/>
                <field name="insurance_type_id"/>
                <field name="insurance_sub_type_id"/>
                <field name="state_id"/>
                <group name="group_group_by_aaa" expand="0" string="Group by...">
                    <filter name="filter_group_by_customer_id"
                            string="Customer" context="{'group_by': 'customer_id'}"/>
                    <filter name="filter_group_by_insurance_type"
                            string="Insurance Type" context="{'group_by': 'insurance_type_id'}"/>
                    <filter name="filter_group_by_stage_sub_type"
                            string="Insurance Sub Type" context="{'group_by': 'insurance_sub_type_id'}"/>
                    <filter name="filter_group_by_state"
                            string="State" context="{'group_by': 'state_id'}"/>
                </group>
                <searchpanel>
                    <field name="customer_id" string="Customer"/>
                    <field name="insurance_type_id" string="Insurance Type"/>
                    <field name="insurance_sub_type_id" string="Insurance Sub Type"/>
                    <field name="state_id" string="State" select="multi"/>
                </searchpanel>
            </search>
        </field>
    </record>
<!--    <record model="ir.ui.view" id="view_client_branch_searchpanel">-->
<!--        <field name="model">client.branch</field>-->
<!--        <field name="inherit_id" ref="view_client_branch_search"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="/search/group" position="before">-->
<!--                <field name="filter_group_by_insurance_type"/>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->
    <record id="documents_view_list_c" model="ir.ui.view">
        <field name="name">documents list</field>
        <field name="model">documents.document</field>
        <field name="arch" type="xml">
            <tree
                  create="1" edit="1"
                  decoration-info="type == 'empty'"
                  sample="1">
                <field name="id" optional="hide" groups="base.group_no_one"/>
                <field name="name" string="Document" required="True"/>
                <field name="url" optional="hide"/>
                <field name="tag_ids" widget="documents_tree_many2many_tags"/>
                <field name="partner_id"/>
                <field name="owner_id" widget="many2one_avatar_user"/>
                <field name="lock_uid" optional="hide"/>
                <field name="res_id"/>
                <field name="res_model"/>
                <field name="folder_id"/>
                <field name="tag_ids"/>
                <field name="type"/>
                <field name="create_date" widget="date"/>
                <field name="activity_exception_decoration" widget="activity_exception"/>
            </tree>
        </field>
    </record>
    <record id="documents_view_form_c" model="ir.ui.view">
        <field name="name">documents Form</field>
        <field name="model">documents.document</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name" string="Document" required="True"/>
                    </group>
                    <group>
                        <field name="datas"/>
                    </group>
                    <group>
                        <field name="res_id"/>
                        <field name="res_model"/>
                        <field name="folder_id"/>
                        <field name="tag_ids"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="document_action" model="ir.actions.act_window">
      <field name="name">Documents</field>
      <field name="res_model">documents.document</field>
      <field name="view_mode">kanban,tree</field>
      <field name="domain">[]</field>
      <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'kanban', 'view_id': ref('documents.document_view_kanban')}),
        (0, 0, {'view_mode': 'tree', 'view_id': False})]"/>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">Upload <span class="font-weight-normal">a file or</span> drag <span class="font-weight-normal">it here.</span></p>
      </field>
    </record>

    <record id="client_branch_view_form" model="ir.ui.view">
        <field name="name">client.branch.form</field>
        <field name="model">client.branch</field>
        <field name="arch" type="xml">
            <form string="Client Branch">
                <header>
                    <field name="is_selected_quotation" invisible="1"/>
                    <button name="submit_for_review" type="object" string="Submit for Review" class="oe_highlight" states="gather_info"/>
                    <button name="send_for_insurance_quotation" type="object" string="Send To Vendor" class="oe_highlight" states="review,sent_to_insurance"/>
                    <button name="already_received_quotation" type="object" string="Already Received Quotation" class="oe_highlight" states="review"/>
                    <button name="send_to_customer" type="object" string="Send to Customer" class="oe_highlight" states="sent_to_insurance"/>
                    <button name="validate" type="object" string="Validate" class="oe_highlight" states="policy_issuance" attrs="{'invisible': ['|',('is_selected_quotation', '=', False)]}"/>
                    <button name="reset_to_draft" type="object" string="Reset Back" class="oe_highlight" states="validate"/>
                    <button name="open_select_quotation_wizard" type="object" string="Select Quotation" class="oe_highlight" states="sent_to_customer"/>
                    <button name="vendor_finishing" type="object" string="Vendor Finishing" class="oe_highlight" states="sent_to_customer"/>
                    <button name="cancel" type="object" string="cancel" class="oe_highlight"/>
                    <button name="action_create_policy" type="object" string="Create Policy" class="oe_highlight" attrs="{'invisible':['|',('state','!=','validate'),('policy_id','!=',False)]}" />

                    <field name="state" widget="statusbar" clickable="1" statusbar_visible="gather_info,review,sent_to_insurance,sent_to_customer,policy_issuance,validate"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_open_task" type="object"
                            class="oe_stat_button" icon="fa-tasks">
                            <div class="o_stat_info">
                                <span class="o_stat_text">Task</span>
                            </div>
                        </button>
                        <button name="action_open_crm" type="object"
                            class="oe_stat_button" icon="fa-pencil-square-o">
                            <div class="o_stat_info">
                                <span class="o_stat_text">CRM</span>
                            </div>
                        </button>
                        <button name="action_open_client_attachments" type="object"
                            class="oe_stat_button" icon="fa-star">
                            <div class="o_stat_info">
                                <field name="total_attachment_number" class="o_stat_value"/>
                                <span class="o_stat_text">Attachments</span>
                            </div>
                        </button>
<!--                        <button name="action_open_client_documents" type="object"-->
<!--                            class="oe_stat_button" icon="fa-star">-->
<!--                            <div class="o_stat_info">-->
<!--                                <field name="total_document_number" class="o_stat_value"/>-->
<!--                                <span class="o_stat_text">Documents</span>-->
<!--                            </div>-->
<!--                        </button>-->
                        <button name="action_open_client_details" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('medical_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_clients_number" class="o_stat_value"/>
                                <span class="o_stat_text">Client Lines</span>
                            </div>
                        </button>
                        <button name="action_open_medical_quotation" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('medical_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_medical_quotation" class="o_stat_value"/>
                                <span class="o_stat_text">Medical Quote</span>
                            </div>
                        </button>
                        <button name="action_open_medical_quotation_lines" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('medical_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_medical_line" class="o_stat_value"/>
                                <span class="o_stat_text">Quote Lines</span>
                            </div>
                        </button>
                        <button name="action_open_vehicle_quotation" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_vehicle_quotation" class="o_stat_value"/>
                                <span class="o_stat_text">Vehicle Quote</span>
                            </div>
                        </button>
                          <button name="action_policy_view" attrs="{'invisible':[('policy_id','=',False)]}" type="object"
                            class="oe_stat_button" icon="fa-star" >
                            <div class="o_stat_info">
                                <field name="count_policy" class="o_stat_value"/>
                                <span class="o_stat_text">Policy Details</span>
                            </div>
                        </button>
                        <button name="action_open_vehicle_detail" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_vehicle_detail" class="o_stat_value"/>
                                <span class="o_stat_text">Vehicle Lines</span>
                            </div>
                        </button>
                        <button name="action_open_vehicle_quote_line" type="object"
                            class="oe_stat_button" icon="fa-star" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}">
                            <div class="o_stat_info">
                                <field name="total_vehicle_line" class="o_stat_value"/>
                                <span class="o_stat_text">Quote Lines</span>
                            </div>
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="document_no" class="oe_edit_only"/>
                        <h1>
                            <field name="document_no" readonly="1"/>
                        </h1>
                        <label for="customer_id" class="oe_edit_only"/>
                        <h1>
                            <field name="customer_id" widget="res_partner_many2one" attrs="{'readonly':[('state','=','validate')]}" context="{'res_partner_search_mode': 'customer', 'show_address': 1, 'show_vat': True}" options="{&quot;always_reload&quot;: True,'no_open': True, 'no_create': True}"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="insurance_type_id" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                            <field name="insurance_sub_type_id" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                            <field name="country" invisible="1" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                            <field name="state_id" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                            <field name="policy_id" invisible="1"/>
                        </group>
                         <group>
                             <field name="type_of_business" attrs="{'readonly':[('state','=','validate')]}"/>
                             <field name="renewal_policy_id" options="{'no_open': True, 'no_create': True}" attrs="{'readonly':[('state','=','validate')],'invisible': [('type_of_business', '!=', 'renewal')],'required': [('type_of_business', '=', 'renewal')]}"/>
                             <field name="company_standard" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                             <field name="sales_employee" attrs="{'readonly':[('state','=','validate')]}" options="{'no_open': True, 'no_create': True}"/>
                            <field name="supervisor" attrs="{'readonly':[('state','=','validate')]}"/>
                             <field name="total_clients_number" attrs="{'invisible': [('medical_visibility_check', '=', False)]}"/>
                             <field name="total_vehicle_detail" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}"/>
                             <field name="list_required_docs_ids" invisible="1"/>
                        </group>
                    </group>
                    <field name="medical_visibility_check" invisible="1"/>
                    <field name="vehicle_visibility_check" invisible="1"/>
                    <notebook>
                        <page string="Clients Detail" attrs="{'invisible': [('medical_visibility_check', '=', False)]}">
                                <field name="client_ids" attrs="{'readonly':[('state','=','validate')]}" widget="section_and_note_one2many" mode="tree,form" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                    <field name="arabic_name"/>
                                    <field name="member_id"/>
                                    <field name="gender"/>
                                    <field name="dob"/>
                                    <field name="age"/>
                                    <field name="member_type"/>
                                    <field name="class_no"/>
                                    <field name="age_category"/>
                                    <field name="risk_no" optional="1"/>
                                    <field name="nationality" optional="1"/>
                                    <field name="staff_no" optional="1"/>
                                    <field name="member_category" optional="1"/>
                                    <field name="mobile1" optional="1"/>
                                    <field name="mobile2" optional="1"/>
                                    <field name="dep_no" optional="1"/>
                                    <field name="sponser_id" optional="1"/>
                                    <field name="occupation" optional="1"/>
                                    <field name="marital_status" optional="1"/>
                                    <field name="vip" optional="1"/>
                                    <field name="as_vip" optional="1"/>
                                    <field name="branch_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Medical Quotations" attrs="{'invisible': ['|',('medical_visibility_check', '=', False),('state','in',('gather_info','review'))]}">
                            <field name="insurance_quotation_ids" attrs="{'readonly':[('state','=','validate')]}" nolabel="1">
                                <tree>
                                    <field name="insurance_company_id"/>
                                    <field name="date"/>
                                    <field name="email" invisible="1"/>
                                    <field name="quotation_no"/>
                                    <field name="client_branch_id" invisible="1"/>
                                    <field name="quotation_line_ids" invisible="1"/>
                                    <field name="total_lines"/>
                                    <field name="total_rate"/>
                                    <field name="total_tax"/>
                                    <field name="amount"/>
                                    <field name="select" readonly="1"/>
                                    <field name="state" widget="badge" decoration-success="state == 'selected'" decoration-info="state not in ('selected', 'draft')" decoration-muted="state == 'draft'"/>
                                </tree>
                                <form>
                                     <header>
<!--                                        <button name="submit_for_review" type="object" string="Submit for Review" class="oe_highlight" states="gather_info"/>-->
                                        <field name="state" widget="statusbar" statusbar_visible="draft,in_review,selected,cancel"/>
                                    </header>
                                    <group>
                                        <group>
                                            <field name="insurance_company_id" options="{'no_open': True, 'no_create': True}"/>
                                            <field name="date"/>
                                            <field name="total_rate"/>
                                            <field name="total_tax"/>
                                            <field name="amount"/>
                                            <field name="select" readonly="1"/>
                                        </group>
                                        <group>
                                            <field name="quotation_no"/>
                                            <field name="email" invisible="1"/>
                                            <field name="client_branch_id" invisible="0" options="{'no_open': True, 'no_create': True}"/>
                                            <field name="branch_db_id" invisible="1"/>
                                            <field name="quotation_file" string="Quotation File"/>
                                            <button name="get_medical_quote_lines" type="object" string="Map Clients" class="oe_highlight"/>
<!--                                            <button name="download_export_template" type="object" string="Download Template" class="oe_highlight"/>-->
                                            <field name="total_lines"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Quotation Lines">
                                            <field name="quotation_line_ids">
                                                <tree create="0" delete="0" edit="1" editable="bottom">
                                                    <field name="name" readonly="1"/>
                                                    <field name="arabic_name" readonly="1"/>
                                                    <field name="member_id" readonly="1"/>
                                                    <field name="gender" readonly="1" ptional="1"/>
                                                    <field name="dob" readonly="1" ptional="1"/>
                                                    <field name="age" readonly="1" ptional="1"/>
                                                    <field name="member_type" readonly="1"/>
                                                    <field name="class_no" optional="1" readonly="1"/>
                                                    <field name="age_category" optional="1" readonly="1"/>
                                                    <field name="risk_no" optional="1" readonly="1"/>
                                                    <field name="nationality" optional="1" readonly="1"/>
                                                    <field name="staff_no" optional="1" readonly="1"/>
                                                    <field name="member_category" optional="1" readonly="1"/>
                                                    <field name="mobile1" optional="1" readonly="1"/>
                                                    <field name="mobile2" optional="1" readonly="1"/>
                                                    <field name="dep_no" optional="1" readonly="1"/>
                                                    <field name="sponser_id" optional="1" readonly="1"/>
                                                    <field name="occupation" optional="1" readonly="1"/>
                                                    <field name="marital_status" optional="1" readonly="1"/>
                                                    <field name="vip" optional="1" readonly="1"/>
                                                    <field name="as_vip" optional="1" readonly="1"/>
                                                    <field name="create_policy"/>
                                                    <field name="rate"/>
                                                    <field name="vat"/>
                                                    <field name="total"/>
                                                    <button type="object" name="add_policy" string="Add To policy" class="oe_highlight" attrs="{'invisible':['|',('parent.select','=',False),('create_policy','=',True)]}"/>
                                                </tree>
                                                <form>
                                                    <div class="oe_title">
                                                        <label for="name" class="oe_edit_only"/>
                                                        <h1><field name="name" class="oe_inline"/></h1>
                                                    </div>
                                                    <group>
                                                        <group string="Given Premium">
                                                            <field name="rate"/>
                                                            <field name="vat"/>
                                                            <field name="total"/>
                                                        </group>
                                                        <group string="Client ID">
                                                            <field name="client_id" nolabel="1" domain="[('id','in',related_client_ids)]" options="{'no_open': True, 'no_create': True}"/>
                                                            <field name="client_branch_id" invisible="1"/>
                                                            <field name="related_client_ids" nolabel="1" invisible="1"/>
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
                                                            <field name="member_id"/>
                                                            <field name="dependent_id"/>
                                                        </group>
                                                         <group>
                                                            <field name="arabic_name"/>
                                                            <field name="gender"/>
                                                            <field name="dob"/>
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
                                                            <field name="dob_hijra"/>
                                                            <field name="age"/>
                                                            <field name="member_type" options="{'no_open': True, 'no_create': True}"/>
                                                        </group>
                                                        <group>
                                                            <field name="class_no" options="{'no_open': True, 'no_create': True}"/>
                                                            <field name="age_category" options="{'no_open': True, 'no_create': True}"/>
                                                            <field name="risk_no"/>
                                                            <field name="nationality" options="{'no_open': True, 'no_create': True}"/>
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
                                                            <field name="staff_no"/>
                                                            <field name="member_category"/>
                                                            <field name="mobile1"/>
                                                            <field name="mobile2"/>
                                                        </group>
                                                        <group>
                                                            <field name="dep_no"/>
                                                            <field name="sponser_id"/>
                                                            <field name="occupation"/>
                                                            <field name="marital_status"/>
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
<!--                                                            <field name="elm_relation"/>-->
                                                            <field name="vip"/>
                                                            <field name="as_vip"/>
                                                        </group>
                                                        <group>
<!--                                                            <field name="bank_id"/>-->
                                                            <field name="branch_id" invisible="1"/>
                                                        </group>
                                                    </group>
                                                </form>
                                            </field>
                                        </page>
                                        <page string="Benefits" name="medical_benefits">
                                            <field name="custom_benefits_ids" mode="tree,form" widget="section_and_note_one2many" nolabel="1">
                                                <tree editable="bottom">
                                                     <control>
                                                            <create name="add_line_control" string="Add a line"/>
                                                            <create name="add_section_control" string="Add a section" context="{'default_display_type': 'line_section'}"/>
                                                            <create name="add_note_control" string="Add a note" context="{'default_display_type': 'line_note'}"/>
                                                     </control>
                                                     <field name="sequence" widget="handle"/>
                                                     <field name="display_type" invisible="1"/>
                                                     <field name="insurance_company_id" invisible="1"/>
                                                     <field name="category_type"/>
                                                     <field name="benefit_id" options="{'no_open': True, 'no_create': True}"/>
                                                     <field name="included" widget="boolean_toggle"/>
                                                     <field name="vary" attrs="{'readonly': [('included', '=', False)]}" widget="boolean_toggle"/>
                                                     <field name="from_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                     <field name="to_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                     <field name="benefit_value" attrs="{'readonly': ['|',('included', '=', False),('vary', '=', True)]}"/>
                                                     <field name="client_branch_id" invisible="1"/>
                                                     <field name="insurance_quotation_id" invisible="1"/>
                                                     <field name="benefit_name" invisible="1"/>
                                                     <field name="name" widget="section_and_note_text" string="Description"/>
                                                 </tree>
                                                <form>
                                                    <group>
                                                        <field name="sequence" widget="handle"/>
                                                         <field name="display_type" invisible="1"/>
                                                         <field name="insurance_company_id" invisible="1"/>
                                                         <field name="category_type"/>
                                                         <field name="benefit_id" options="{'no_open': True, 'no_create': True}"/>
                                                         <field name="included" widget="radio"/>
                                                         <field name="vary" attrs="{'readonly': [('included', '=', False)]}" widget="radio"/>
                                                         <field name="from_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                         <field name="to_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                         <field name="benefit_value" attrs="{'readonly': ['|',('included', '=', False),('vary', '=', True)]}"/>
                                                         <field name="client_branch_id" invisible="1"/>
                                                         <field name="insurance_quotation_id" invisible="1"/>
                                                         <field name="benefit_name" invisible="1"/>
                                                    </group>
                                                </form>
                                            </field>
                                        </page>
<!--                                        <page string="Attachment">-->
<!--                                            <field name="attachment_ids"/>-->
<!--                                        </page>-->
                                    </notebook>
                                </form>
                            </field>
                        </page>

                        <page string="Vehicle Detail" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}">
                                <field name="client_vehicle_ids" attrs="{'readonly':[('state','=','validate')]}" widget="section_and_note_one2many" mode="tree,form" nolabel="1">
                                <tree>
                                    <field name="vehicle_type"/>
                                    <field name="plate_no" placeholder="1234 A-B-C"/>
                                    <field name="plate_no_ar"/>
                                    <field name="chasis_no"/>
                                    <field name="capacity"/>
                                    <field name="driver_insurance"/>
                                    <field name="covering_maintenance"/>
<!--                                    <field name="value"/>-->
                                    <field name="owner_name"/>
                                    <field name="owner_id_no"/>
                                    <field name="custom_id" optional="1"/>
                                    <field name="sequence_no" optional="1"/>
                                    <field name="user_id_no" optional="1"/>
                                    <field name="user_name" optional="1"/>
                                    <field name="building_no" optional="1"/>
                                    <field name="additional_no" optional="1"/>
                                    <field name="street" optional="1"/>
                                    <field name="country" invisible="1" optional="1"/>
                                    <field name="city" optional="1"/>
                                    <field name="unit_no" optional="1"/>
                                    <field name="po_box" optional="1"/>
                                    <field name="zip_code" optional="1"/>
                                    <field name="neighborhead" optional="1"/>
                                    <field name="mobile_no" optional="1"/>
                                    <field name="exp_date_istemara_hijry" optional="1"/>
                                    <field name="exp_date_en" optional="1"/>
                                    <field name="vehicle_color" optional="1"/>
                                    <field name="vehicle_make_id" optional="1"/>
                                    <field name="vehicle_model_id" optional="1"/>
                                    <field name="model" optional="1"/>
                                    <field name="gcc_covering" optional="1"/>
                                    <field name="natural_peril_cover" optional="1"/>
                                    <field name="dob_owner" optional="1"/>
                                    <field name="nationality" optional="1"/>
                                    <field name="state" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Vehicle Quotations" attrs="{'invisible': ['|',('vehicle_visibility_check', '=', False),('state','in',('gather_info','review'))]}">
                            <field name="vehicle_quotation_ids" attrs="{'readonly':[('state','=','validate')]}" nolabel="1">
                                <tree>
                                    <field name="insurance_company_id"/>
                                    <field name="date"/>
                                    <field name="email" invisible="1"/>
                                    <field name="quotation_no"/>
                                    <field name="vehicle_quotation_line_ids" invisible="1"/>
                                    <field name="total_lines"/>
                                    <field name="total_rate"/>
                                    <field name="total_vat"/>
                                    <field name="amount"/>
                                    <field name="select" readonly="1"/>
                                    <field name="state" widget="badge" decoration-success="state == 'selected'" decoration-info="state not in ('selected', 'draft')" decoration-muted="state == 'draft'"/>
                                    <field name="client_branch_id" invisible="1"/>
                                </tree>
                                <form>
                                     <header>
                                        <field name="state" widget="statusbar" statusbar_visible="draft,in_review,selected,cancel"/>
                                    </header>
                                    <group>
                                        <group>
                                            <field name="insurance_company_id"/>
                                            <field name="date"/>
                                            <field name="total_vat"/>
                                            <field name="amount"/>
                                            <field name="total_rate"/>
                                            <field name="select" readonly="1"/>
                                        </group>
                                        <group>
                                            <field name="quotation_no"/>
                                            <field name="email" invisible="1"/>
                                            <field name="client_branch_id" invisible="1"/>
                                            <field name="branch_db" invisible="1"/>
                                            <field name="document_no" invisible="1"/>
                                            <field name="quotation_file" string="Quotation File"/>
                                            <button name="get_vehicle_quote_lines" type="object" string="Map Clients" class="oe_highlight"/>
<!--                                            <button name="upload_quotation" type="object" string="Import" class="oe_highlight"/>-->
<!--                                            <button name="export_vehicle_quoit_template" type="object" string="Export Template" class="oe_highlight"/>-->
                                            <field name="total_lines"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Quotation Lines">
                                            <field name="vehicle_quotation_line_ids">
                                                <tree create="0" delete="0" edit="1" editable="bottom">
                                                    <field name="vehicle_type" readonly="1"/>
                                                    <field name="plate_no" placeholder="1234 A-B-C" readonly="1"/>
                                                    <field name="plate_no_ar" readonly="1"/>
                                                    <field name="chasis_no" readonly="1"/>
                                                    <field name="capacity" optional="1" readonly="1"/>
                                                    <field name="driver_insurance" optional="1" readonly="1"/>
                                                    <field name="covering_maintenance" optional="1" readonly="1"/>
<!--                                                    <field name="value"/>-->
                                                    <field name="owner_name" readonly="1"/>
                                                    <field name="owner_id_no" readonly="1"/>
                                                    <field name="custom_id" optional="1" readonly="1"/>
                                                    <field name="sequence_no" optional="1" readonly="1"/>
                                                    <field name="user_id_no" optional="1" readonly="1"/>
                                                    <field name="user_name" readonly="1"/>
                                                    <field name="vehicle_make_id" optional="1" readonly="1"/>
                                                    <field name="vehicle_model_id" optional="1" readonly="1"/>
                                                    <field name="model" optional="1" readonly="1"/>
                                                    <field name="building_no" optional="1" readonly="1"/>
                                                    <field name="additional_no" optional="1" readonly="1"/>
                                                    <field name="street" optional="1" readonly="1"/>
                                                    <field name="country" invisible="1" optional="1" readonly="1"/>
                                                    <field name="city" optional="1" readonly="1"/>
                                                    <field name="unit_no" optional="1" readonly="1"/>
                                                    <field name="po_box" optional="1" readonly="1"/>
                                                    <field name="zip_code" optional="1" readonly="1"/>
                                                    <field name="neighborhead" optional="1" readonly="1"/>
                                                    <field name="mobile_no" optional="1" readonly="1"/>
                                                    <field name="exp_date_istemara_hijry" optional="1" readonly="1"/>
                                                    <field name="exp_date_en" optional="1" readonly="1"/>
                                                    <field name="vehicle_color" optional="1" readonly="1"/>
                                                    <field name="gcc_covering" optional="1" readonly="1"/>
                                                    <field name="natural_peril_cover" optional="1" readonly="1"/>
                                                    <field name="dob_owner" optional="1" readonly="1"/>
                                                    <field name="nationality" optional="1" readonly="1"/>
                                                    <field name="rate"/>
                                                    <field name="vat"/>
                                                    <field name="total"/>
                                                    <field name="client_branch_id" optional="1"/>
                                                    <field name="related_vehicle_client_ids" optional="1"/>
                                                    <field name="vehicle_client_id" optional="1" invisible="1"/>
                                                <field name="create_policy"/>

                                    <button type="object" name="add_policy" string="Add To policy" class="oe_highlight" attrs="{'invisible':['|',('parent.select','=',False),('create_policy','=',True)]}"/>


                                                </tree>
                                                <form>
                                                    <div class="oe_title">
                                                        <label for="owner_name" class="oe_edit_only"/>
                                                        <h1><field name="owner_name" class="oe_inline"/></h1>
                                                    </div>
                                                    <group>
                                                        <group string="Given Premium">
                                                            <field name="rate"/>
                                                            <field name="vat"/>
                                                            <field name="total"/>
                                                        </group>
                                                        <group string="Sum Insured">
                                                            <field name="sum_insured"/>
                                                        </group>
                                                        <group string="Client ID" invisible="1">
                                                            <field name="vehicle_client_id" invisible="1" nolabel="1" domain="[('id','in',related_vehicle_client_ids)]"/>
                                                            <field name="client_branch_id" invisible="1"/>
                                                            <field name="related_vehicle_client_ids" nolabel="1" invisible="1"/>
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
                                                            <field name="vehicle_make_id"/>
                                                            <field name="vehicle_model_id"/>
                                                            <field name="model"/>
                                                            <field name="vehicle_type"/>
                                                            <field name="plate_no" placeholder="1234 A-B-C"/>
                                                            <field name="plate_no_ar"/>
                                                            <field name="chasis_no"/>
                                                        </group>
                                                         <group>
                                                            <field name="capacity"/>
                                                            <field name="driver_insurance"/>
                                                            <field name="covering_maintenance"/>
<!--                                                            <field name="value"/>-->
                                                        </group>
                                                    </group>
                                                    <group>
                                                        <group>
<!--                                                            <field name="owner_name"/>-->
                                                            <field name="owner_id_no"/>
                                                            <field name="custom_id"/>
                                                        </group>
                                                        <group>
                                                            <field name="user_id_no"/>
                                                            <field name="user_name"/>
                                                            <field name="building_no"/>
                                                            <field name="additional_no"/>
                                                        </group>
                                                    </group>
                                                    <group>
                        <group>
                            <field name="street"/>
                            <field name="country" invisible="1" optional="1"/>
                            <field name="city"/>
                            <field name="unit_no"/>
                            <field name="po_box"/>
                        </group>
                        <group>
                            <field name="zip_code"/>
                            <field name="neighborhead"/>
                            <field name="mobile_no"/>
                            <field name="exp_date_istemara_hijry"/>
                            <field name="exp_date_en"/>
                        </group>
                    </group>
                                                    <group>
                        <group>
                            <field name="vehicle_color"/>
                            <field name="gcc_covering"/>
                            <field name="natural_peril_cover"/>
                            <field name="dob_owner"/>
                        </group>
                        <group>
                            <field name="nationality"/>
                        </group>
                    </group>
                                                </form>
                                            </field>
                                        </page>
                                        <page string="Vehicle Coverage">

                                            <group>
                                                <table width="100%" style="border: 2px solid black;"
                                                       class="table table-bordered mt32">
                                                    <thead>
                                                        <tr style="background-color:#89e3f2">
                                                            <th style="border: 2px solid black;width: 300px;">
                                                                <strong>Title</strong>
                                                            </th>
                                                            <th style="border: 2px solid black;width: 300px;">
                                                                <strong>Amount</strong>
                                                            </th>
                                                            <th style="border: 2px solid black;width: 300px;">
                                                                <strong>Title</strong>
                                                            </th>
                                                            <th style="border: 2px solid black;width: 300px;">
                                                                <strong>Amount</strong>
                                                            </th>

                                                        </tr>
                                                    </thead>
                                                    <tbody style="background-color:#e1e8cb">
                                                        <tr>
                                                            <td style="border: 2px solid black;">
                                                                <strong>Issuance Fee</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="issuance_fee_car" no_label="1"/>
                                                            </td>

                                                            <td style="border: 2px solid black;">
                                                                <strong>Zero Depreciation</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="zero_dep" no_label="1"/>
                                                            </td>

                                                        </tr>

                                                        <tr>
                                                            <td style="border: 2px solid black;">
                                                                <strong>Personal Accident For Driver</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="personal_accident_driver" no_label="1"/>
                                                            </td>

                                                            <td style="border: 2px solid black;">
                                                                <strong>Towing Vehicle</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="towing_vehicle" no_label="1"/>
                                                            </td>

                                                        </tr>
                                                        <tr>
                                                            <td style="border: 2px solid black;">
                                                                <strong>Personal Accident For Passengers</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="personal_accident_for_passenger" no_label="1"/>
                                                            </td>

                                                            <td style="border: 2px solid black;">
                                                                <strong>Coverage for key loss or theft</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="key_loss_thef_coverage" no_label="1"/>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td style="border: 2px solid black;">
                                                                <strong>Car Hire</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="car_hire" no_label="1"/>
                                                            </td>

                                                            <td style="border: 2px solid black;">
                                                                <strong>Glass Coverage</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="glass_coverage" no_label="1"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="border: 2px solid black;">
                                                                <strong>Geographical Extension</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="geo_ext" no_label="1"/>
                                                            </td>

                                                            <td style="border: 2px solid black;">
                                                                <strong>Personal holdings in vehicle</strong>
                                                            </td>
                                                            <td style="border: 2px solid black;">
                                                                <field name="personal_holding_in_vehicle" no_label="1"/>
                                                            </td>
                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </group>
                                        </page>
                                        <page string="Benefits" name="benefits_for_vehicle">
                                            <field name="vehicle_custom_benefits_ids" mode="tree,form" widget="section_and_note_one2many" nolabel="1">
                                                <tree editable="bottom">
                                                     <control>
                                                            <create name="add_line_control" string="Add a line"/>
                                                            <create name="add_section_control" string="Add a section" context="{'default_display_type': 'line_section'}"/>
                                                            <create name="add_note_control" string="Add a note" context="{'default_display_type': 'line_note'}"/>
                                                     </control>
                                                     <field name="sequence" widget="handle"/>
                                                     <field name="display_type" invisible="1"/>
                                                     <field name="insurance_company_id" invisible="1"/>
                                                     <field name="category_type"/>
                                                     <field name="benefit_id" options="{'no_open': True, 'no_create': True}"/>
                                                     <field name="included" widget="boolean_toggle"/>
                                                     <field name="vary" attrs="{'readonly': [('included', '=', False)]}" widget="boolean_toggle"/>
                                                     <field name="from_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                     <field name="to_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                     <field name="benefit_value" attrs="{'readonly': ['|',('included', '=', False),('vary', '=', True)]}"/>
                                                     <field name="client_branch_id" invisible="1"/>
                                                     <field name="vehicle_quotation_id" invisible="1"/>
                                                     <field name="benefit_name" invisible="1"/>
                                                     <field name="name" widget="section_and_note_text" string="Description"/>
                                                 </tree>
                                                <form>
                                                    <group>
                                                        <field name="sequence" widget="handle"/>
                                                         <field name="display_type" invisible="1"/>
                                                         <field name="insurance_company_id" invisible="1"/>
                                                         <field name="category_type"/>
                                                         <field name="benefit_id" options="{'no_open': True, 'no_create': True}"/>
                                                         <field name="included" widget="radio"/>
                                                         <field name="vary" attrs="{'readonly': [('included', '=', False)]}" widget="radio"/>
                                                         <field name="from_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                         <field name="to_value" attrs="{'readonly': [('vary', '=', False)]}"/>
                                                         <field name="benefit_value"/>
                                                         <field name="client_branch_id" invisible="1"/>
                                                         <field name="vehicle_quotation_id" invisible="1"/>
                                                         <field name="benefit_name" invisible="1"/>
                                                    </group>
                                                </form>
                                            </field>
                                        </page>
                                    </notebook>
                                </form>
                            </field>
                        </page>

<!--                        <page string="Import File">-->
<!--                            <group>-->
<!--                                <group>-->
<!--                                    <field name="import_client_file" attrs="{'readonly':[('state','=','validate')]}"/>-->
<!--                                </group>-->
<!--                                <group>-->
<!--                                    <button name="export_client_info_file_template" type="object" string="Export Template" class="oe_highlight" attrs="{'invisible': [('medical_visibility_check', '=', False)]}"/>-->
<!--                                    <button name="export_vehicle_info_file_template" type="object" string="Export Template" class="oe_highlight" attrs="{'invisible': [('vehicle_visibility_check', '=', False)]}"/>-->
<!--                                </group>-->
<!--                                <group>-->
<!--                                    <button name="import_client_file_data" type="object" string="Import Data" class="oe_highlight" attrs="{'invisible': [('import_client_file', '=', False)]}"/>-->
<!--                                </group>-->
<!--                            </group>-->
<!--                        </page>-->
<!--                        <page string="Attachment@ Insurance">-->
<!--                            <field name="insurance_sent_attachment_ids" readonly="1">-->
<!--                                <tree>-->
<!--									<field name="name" invisible="1"/>-->
<!--									<field name="datas" filename="name" widget="binary" string="File"/>-->
<!--                                    <field name="description" string="Company Name"/>-->
<!--                                    <field name="create_date"/>-->
<!--								</tree>-->
<!--                            </field>-->
<!--                        </page>-->
                        <page string="Customer Attachments">
                            <field name="customer_attachment_ids" attrs="{'readonly':[('state','=','validate')]}">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="file_type"/>
                                    <field name="list_required_docs_ids" widget="many2many_tags" invisible="1"/>
                                    <field name="file" widget="binary" />
                                    <field name="is_required"/>
                                    <field name="state"/>
<!--                                    <field name="image_file" widget="image" attrs="{'readonly': [('file_type', '!=', 'image')]}"/>-->
<!--                                    <field name="other_file" attrs="{'readonly': [('file_type', '!=', 'other')]}"/>-->
                                    <field name="client_branch_id" invisible="1"/>
                                </tree>
                                <form>
                                    <group>
                                        <group>
                                            <field name="name"/>
                                            <field name="file_type"/>
                                            <field name="list_required_docs_ids" widget="many2many_tags" invisible="1"/>
                                        </group>
                                        <group>
                                            <field name="file" widget="pdf_viewer"/>
<!--                                            <field name="image_file" widget="image" attrs="{'invisible': [('file_type', '!=', 'image')]}"/>-->
<!--                                            <field name="other_file" attrs="{'invisible': [('file_type', '!=', 'other')]}"/>-->
                                            <field name="client_branch_id" invisible="1"/>
                                        </group>
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>



    <record id="action_client_branch" model="ir.actions.act_window">
        <field name="name">Customer Information</field>
        <field name="res_model">client.branch</field>
        <field name="view_mode">tree,form</field>
        <field name="search_view_id" ref="view_client_branch_search_mmmm"/>
         <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Click to create a new Client Branch.
            </p>
        </field>
    </record>

    <record id="customer_attachments_ins_view_tree" model="ir.ui.view">
        <field name="name">customer.attachment.tree</field>
        <field name="model">customer.attachment</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="name"/>
                <field name="file_type"/>
                <field name="list_required_docs_ids" widget="many2many_tags" invisible="1"/>
                <field name="file" widget="binary" />
                <field name="is_required"/>
                <field name="state"/>
                <field name="client_branch_id" invisible="1"/>
            </tree>
        </field>
    </record>






</odoo>